<!DOCTYPE html>












  


<html class="theme-next pisces use-motion" lang="zh-CN">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">


























<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2">

<link rel="stylesheet" href="/css/main.css?v=6.7.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=6.7.0">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=6.7.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=6.7.0">


  <link rel="mask-icon" href="/images/logo.svg?v=6.7.0" color="#222">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '6.7.0',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="用心感受生活">
<meta property="og:type" content="website">
<meta property="og:title" content="Anne Blog">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Anne Blog">
<meta property="og:description" content="用心感受生活">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Anne Blog">
<meta name="twitter:description" content="用心感受生活">






  <link rel="canonical" href="http://yoursite.com/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>Anne Blog – 记录成长</title>
  












  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Anne Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
      
        <h1 class="site-subtitle" itemprop="description">记录成长</h1>
      
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="切换导航栏">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home menu-item-active">

    
    
    
      
    

    
      
    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>首页</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">

    
    
    
      
    

    
      
    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br>标签<span class="badge">14</span></a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">

    
    
    
      
    

    
      
    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br>分类<span class="badge">8</span></a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
    
      
    

    
      
    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>归档<span class="badge">15</span></a>

  </li>

      
      
    </ul>
  

  

  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/03/08/springboot/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="anne">
      <meta itemprop="description" content="用心感受生活">
      <meta itemprop="image" content="/uploads/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Anne Blog">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/03/08/springboot/" class="post-title-link" itemprop="url">springboot</a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-03-08 10:19:40" itemprop="dateCreated datePublished" datetime="2019-03-08T10:19:40+08:00">2019-03-08</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-03-09 23:30:20" itemprop="dateModified" datetime="2019-03-09T23:30:20+08:00">2019-03-09</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/spring/" itemprop="url" rel="index"><span itemprop="name">spring</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a href="https://blog.csdn.net/m0_37106742/article/details/64438892" target="_blank" rel="noopener">Springboot摘自</a><br><a href="https://blog.csdn.net/valada/article/details/80892573" target="_blank" rel="noopener">springcloud</a><br><a href="https://blog.csdn.net/qq_35487047/article/details/82291400" target="_blank" rel="noopener">建项目</a></p>
<h1 id="springboot"><a href="#springboot" class="headerlink" title="springboot"></a>springboot</h1><pre><code>springboot用来简化Spring的配置的。
</code></pre><h2 id="怎么使用Springboot？"><a href="#怎么使用Springboot？" class="headerlink" title="怎么使用Springboot？"></a>怎么使用Springboot？</h2><p>1.在pom.xml中导入springboot启动包（spring-boot-starter-web）并加载依赖包</p>
<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;
&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
&lt;groupId&gt;cn.it&lt;/groupId&gt;
&lt;artifactId&gt;springboot-demo&lt;/artifactId&gt;
&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;

&lt;parent&gt;
&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;
&lt;version&gt;1.4.0.RELEASE&lt;/version&gt;
&lt;/parent&gt;  
&lt;dependencies&gt;
&lt;dependency&gt;
&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
&lt;/dependency&gt;

&lt;!-- Springboot热部署--&gt;
&lt;dependency&gt;
&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;
&lt;/dependency&gt;

&lt;!-- Springboot模版引擎--&gt;
&lt;dependency&gt;
&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;
&lt;/dependency&gt;
&lt;/dependencies&gt;

&lt;properties&gt;
&lt;java.version&gt;1.7&lt;/java.version&gt;
&lt;/properties&gt;
&lt;/project&gt;
</code></pre><ol start="2">
<li><p>在 src/main/resources 在文件资源下面建立statict（静态资源css、js)和templates (放html页面)、application.properties<br> 是配置Springboot的信息，例如：</p>
<pre><code>spring.mvc.view.prefix=/templates/
spring.mvc.view.suffix=.html
</code></pre></li>
</ol>
<p>3.二维码小 demo：<br>        3.1controller层</p>
<pre><code>@Controller
     @RequestMapping(&quot;/test&quot;)
     public class HelloWorldController {
     @Autowired
     HelloWorldService hs;

     @RequestMapping(&quot;/info&quot;)
     public String hello() {
     return &quot;qrious&quot;;
     }
     }
</code></pre><p>   3.2 启动类</p>
<pre><code>@SpringBootApplication
public class Application {

public static void main(String[] args) {
SpringApplication.run(Application.class, args);
}

}
</code></pre><p> 3.3 页面qrious插件生成二维码</p>
<pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta charset=&quot;UTF-8&quot;/&gt;
&lt;title&gt;二维码入门demo&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;img id=&quot;qrious&quot;/&gt;
&lt;script  src=&quot;/qrious.min.js&quot;&gt;&lt;/script&gt;
&lt;script&gt;
var qr = new QRious({
element:document.getElementById(&apos;qrious&apos;),
size:250,        level:&apos;H&apos;,       value:&apos;http://www.baidu.com&apos;
});
&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre><p>3.4 运行启动类的主方法便启动项目默认端口为8080，输入localhost：8080/test/info 显示一个二维码</p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/03/03/算法/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="anne">
      <meta itemprop="description" content="用心感受生活">
      <meta itemprop="image" content="/uploads/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Anne Blog">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/03/03/算法/" class="post-title-link" itemprop="url">算法</a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-03-03 21:39:12" itemprop="dateCreated datePublished" datetime="2019-03-03T21:39:12+08:00">2019-03-03</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-03-04 17:27:44" itemprop="dateModified" datetime="2019-03-04T17:27:44+08:00">2019-03-04</time>
              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="1-数据类型"><a href="#1-数据类型" class="headerlink" title="1.数据类型"></a>1.数据类型</h1><pre><code>Java中有基本数据类型( byte、short、chat、int、long、double、float、boolean )和引用类型( String )
</code></pre><h1 id="2-数组"><a href="#2-数组" class="headerlink" title="2.数组"></a>2.数组</h1><pre><code>数组是相同类型的变量按顺序组成的一种复合数据类型，称这些相同类型的变量为数组的元素或单元。
数组通过数组名加索引来使用数组的元素。
</code></pre><h2 id="2-1数组-array-的创建方式"><a href="#2-1数组-array-的创建方式" class="headerlink" title="2.1数组(array)的创建方式"></a>2.1数组(array)的创建方式</h2><pre><code>public static void main(String[] args) {
//创建数组的第一种方法
int[] arr=new int[6];
int intValue=arr[5];
//System.out.println(intValue);
//创建数组的第二种方法
int[] x={1,2,3,4};
//System.out.println(x[1]);

//创建数组的第三种方法。
int[] y= new int[]{1,2,3,4,5};
int m=0;
boolean length = isLength(m,y);
if(length){
System.out.println(y[m]);
}else{
System.err.println(&quot;数组标越界&quot;);
}    

}
//判断数组下标是否越界
public static boolean isLength(int m,int arr[]){
boolean flag=false;
int length = arr.length;
if(m&lt;length)
flag=true;
return flag;
}
</code></pre><h1 id="3-集合"><a href="#3-集合" class="headerlink" title="3.集合"></a>3.集合</h1><pre><code>1.当我们需要保持一组一样（类型相同）的元素的时候，我们应该使用一个容器来保存，数组就是这样一个容器。
2.数组一旦定义，长度将不能再变化。
3.然而在我们的开发实践中，经常需要保存一些变长的数据集合，于是，我们需要一些能够动态增长长度的容器来保存我们的数据。
4.而我们需要对数据的保存的逻辑可能各种各样，于是就有了各种各样的数据结构。我们将数据结构在Java中实现，于是就有了我们的集合框架。
</code></pre><h1 id="4-数据转换"><a href="#4-数据转换" class="headerlink" title="4.数据转换"></a>4.数据转换</h1><h2 id="4-1基本数据转换成String类型-String的静态方法"><a href="#4-1基本数据转换成String类型-String的静态方法" class="headerlink" title="4.1基本数据转换成String类型(String的静态方法)"></a>4.1基本数据转换成String类型(String的静态方法)</h2><pre><code>int a=3433;
System.out.println(String.valueOf(a)+2);
</code></pre><p>输出：</p>
<pre><code>34332
</code></pre><h2 id="4-2String类型转换成基本数据类型"><a href="#4-2String类型转换成基本数据类型" class="headerlink" title="4.2String类型转换成基本数据类型"></a>4.2String类型转换成基本数据类型</h2><pre><code>String a=&quot;47347&quot;;
System.out.println(Integer.parseInt(a)+8);
</code></pre><p>输出：</p>
<pre><code>47355
</code></pre><h2 id="4-3数组转换成集合-Arrays"><a href="#4-3数组转换成集合-Arrays" class="headerlink" title="4.3数组转换成集合(Arrays)"></a>4.3数组转换成集合(Arrays)</h2><pre><code>List&lt;String&gt; list=Arrays.asList(str1);//将数组转换成集合
</code></pre><h2 id="4-4集合转换成数组"><a href="#4-4集合转换成数组" class="headerlink" title="4.4集合转换成数组"></a>4.4集合转换成数组</h2><pre><code>// 当list中的数据类型都一致时可以将list转化为数组
    List list = new ArrayList();
    list.add(&quot;a&quot;);
    list.add(&quot;b&quot;);
    Object[] array = list.toArray();
</code></pre><p>练习1：将”I LOVE JAVA” 输出为”JAVA LOVE I”</p>
<pre><code>public class Test1{
    public void getStr(){
    String str=&quot;I LOVE JAVA&quot;;
    String[] str1=str.slipt(&quot; &quot;);
    List&lt;String&gt; list=Arrays.asList(str1); //将数组转为list
    Collections.reverse(list); //使用到Collections工具类的方法
    StringBuild sb=new StringBuild();
    for（String str2:list）{
    sb.append(str2+&quot; &quot;);
        }
        system.out.println(sb);
    }

public static main(String[]args){
    Test1 te=new Test1();
    te.getStr();
    }
}
</code></pre><p>   练习2: 将一组数组eg: {2,3,3,3,6,7,7,8} 里面有几组两个相同的数据</p>
<h1 id="5-JAVA算法"><a href="#5-JAVA算法" class="headerlink" title="5.JAVA算法"></a>5.JAVA算法</h1><h2 id="5-1排序都有哪几种方法？"><a href="#5-1排序都有哪几种方法？" class="headerlink" title="5.1排序都有哪几种方法？"></a>5.1排序都有哪几种方法？</h2><ol>
<li>插入排序（直接插入排序、希尔排序）</li>
<li>交换排序（冒泡排序、快速排序）</li>
<li>选择排序（直接选择排序、堆排序）</li>
<li>归并排序</li>
<li><p>分配排序（箱排序、基数排序）</p>
<h2 id="5-2-查找有哪些方法？"><a href="#5-2-查找有哪些方法？" class="headerlink" title="5.2 查找有哪些方法？"></a>5.2 查找有哪些方法？</h2></li>
<li><p>顺序查找(适合于存储结构为顺序储存或链接存储的线性表)<br> 查找s[0]-s[i-1]与key一致的数据</p>
<pre><code>    public void seach( String[] s,String key,int n){
    int  i=0;
    while(i&lt;n &amp;&amp; s[i]!=key){
    i++
    if(key==s[i]){
    return i;
}
}
return -1;
}
</code></pre></li>
<li><p>二分查找<br> 前提条件：二分法查找适用于数据量较大时，但是数据需要先排好顺序。</p>
<pre><code>public static int search(int[] arr, int key){
 int start=0;
 int end=arr.length-1;
 while (start&lt;=end)
 {
 int mid = (end+start)/2;
 if (key&lt;arr[mid])
 {
 end=mid-1;
 }else if (key&gt;arr[mid]){
 start=mid+1;
 }else {
 return mid;
 }
 }
 return -1;
 }
</code></pre></li>
<li><p>分块查找</p>
</li>
<li>二叉排序树查找（二叉查找树）</li>
</ol>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/02/28/锁机制/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="anne">
      <meta itemprop="description" content="用心感受生活">
      <meta itemprop="image" content="/uploads/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Anne Blog">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/02/28/锁机制/" class="post-title-link" itemprop="url">锁机制</a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-02-28 16:47:16 / 修改时间：16:54:33" itemprop="dateCreated datePublished" datetime="2019-02-28T16:47:16+08:00">2019-02-28</time>
            

            
              

              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="数据库为什么需要锁机制-有哪些锁机制"><a href="#数据库为什么需要锁机制-有哪些锁机制" class="headerlink" title="数据库为什么需要锁机制?有哪些锁机制?"></a>数据库为什么需要锁机制?有哪些锁机制?</h1><h2 id="【为什么要锁】"><a href="#【为什么要锁】" class="headerlink" title="【为什么要锁】"></a>【为什么要锁】</h2><p>数据库是一个多用户使用的共享资源,比如一个用户表t_user,两个浏览器前面的人登录了同个一个账号，把电话号码改了。当多个用户并发地存取数据时，在数据库中就会产生多个事务同时存取同一数据的情况。若对并发操作不加控制就可能会读取和存储不正确的数据，破坏数据库的一致性(脏读，不可重复读，幻读等)，可能产生死锁。为了解决这个问题，加锁是一个非常重要的技术，对实现数据库并发控制是一个好的方案。简单说，当一个执行sql语句的事务想要操作表记录之前，先向数据库发出请求，对你访问的记录集加锁，在这个事务释放这个锁之前，其他事务不能对这些数据进行更新操作。</p>
<h2 id="【有哪些锁】"><a href="#【有哪些锁】" class="headerlink" title="【有哪些锁】"></a>【有哪些锁】</h2><p>锁包括行级锁、表级锁、悲观锁、乐观锁</p>
<h3 id="行级锁"><a href="#行级锁" class="headerlink" title="行级锁:"></a>行级锁:</h3><pre><code>一种它锁，防止另外事务修改此行;在使用以下语句时，Oracle会自动应用行级锁：INSERT、UPDATE、DELETE、SELECT … FOR UPDATE [OF columns] [WAIT n | NOWAIT];SELECT … FOR UPDATE语句允许用户一次锁定多条记录进行更新.使用commit或者rollback释放锁。MySql的innodb存储引擎默认是行级锁。特点:开锁大，加锁慢；会出现死锁；锁定粒度最小，发生锁冲突的概率最低，并发度也最高。适合于有大量按索引更新少量不同数据，同时又有并发查询的应用，如一些在线事务处理系统。
</code></pre><h3 id="表级锁-5种"><a href="#表级锁-5种" class="headerlink" title="表级锁:5种"></a>表级锁:5种</h3><pre><code>行共享 (ROW SHARE) – 禁止排他锁定表，与行排他类似，区别是别的事务还可以在此表上加任何排他锁。（除排他（exclusive）外）
行排他(ROW EXCLUSIVE) – 禁止使用排他锁和共享锁，其他事务依然可以并发地对相同数据表执行查询，插入，更新，删除操作，或对表内数据行加锁的操作，但不能有其他的排他锁（自身是可以的，没发现有什么用）
共享锁(SHARE) - 锁定表，对记录只读不写，多个用户可以同时在同一个表上应用此锁，在表没有被任何DML操作时，多个事务都可加锁，但只有在仅一个事务加锁的情况下只有此事务才能对表更新；当表已经被更新或者指定要更新时（select for update），任何事务都不能加此锁了。
共享行排他(SHARE ROW EXCLUSIVE) – 比共享锁更多的限制，禁止使用共享锁及更高的锁，在表没有被任何DML操作时，只有一个事务可以加锁，可以更新，书上说别的事务可以使用select for update锁定选中的数据行，可是实验后没被验证。
排他(EXCLUSIVE) – 限制最强的表锁，仅允许其他用户查询该表的行。禁止修改和锁定表
行级锁和表级锁是根据锁的粒度来区分的，行记录，表都是资源，锁是作用在这些资源上的。如果粒度比较小(比如行级锁)，可以增加系统的并发量但需要较大的系统开销，会影响到性能，出现死锁，，因为粒度小则操作的锁的数量会增加;如果作用在表上，粒度大，开销小，维护的锁少，不会出现死锁，但是并发是相当昂贵的，因为锁定了整个表就限制了其它事务对这个表中其他记录的访问。
</code></pre><h3 id="悲观锁"><a href="#悲观锁" class="headerlink" title="悲观锁:"></a>悲观锁:</h3><pre><code>Pessimistic Lock正如其名，它指的是对数据被外界（包括本系统当前的其他事务，以及来自外部系统的事务处理）修改持保守悲观态度，事务每次去操作数据的时候都假设有其他事务会修改需要访问的数据，所以在访问之前都要求上锁，行锁，表锁等，读锁，写锁等，都是在做操作之前先上锁，因此，在整个数据处理过程中，将数据处于锁定状态。悲观锁的实现，往往依靠数据库提供的锁机制（也只有数据库层提供的锁机制才能 真正保证数据访问的排他性，否则，即使在本系统中实现了加锁机制，也无法保证外部系 统不会修改数据）。 一个典型的倚赖数据库的悲观锁调用： select * from account where name=”Erica” for update 这条sql 语句锁定了account 表中所有符合检索条件（name=”Erica”）的记录。 本次事务提交之前（事务提交时会释放事务过程中的锁），外界无法修改这些记录。

Hibernate悲欢锁实现:基于数据库锁机制

Query q=Session.createQuery(&quot;select  * from t_profit where amount&gt;10000&quot;);

q.setLockMode(&quot;Profit&quot;,LockMode.UPGRADE);//Profit是Profit类的别名

List&lt;Profit&gt; ps=q.list();

执行的sql:select ....from t_profit where amount&gt;10000 for update.hibernate的悲观锁通过数据库的for update实现。

LockMode.NONE：无锁机制;

LockMode.WRITE:insert,update记录时自动获取悲观锁;

LockMode.READ在读取时自动获取悲观锁;

LockMode.UPGRADE:利用数据库的for update子句加锁;

LockMode.UPGRADE_NOWAIT:oracle特定实现，用oracle的for update nowait子句加锁
</code></pre><h3 id="乐观锁"><a href="#乐观锁" class="headerlink" title="乐观锁:"></a>乐观锁:</h3><pre><code>Optimistic Lock,和悲欢锁相反，事务每次去操作数据之前，都假设其他事务不会修改这些需要访问的数据 ，所以 在访问之前不要求上锁，只是在进行更新修改操作的时候判断一下在访问的期间有没有其他人修改数据 了。它适用于多读的应用类型，冲突真的发生比较少的时候就比较好，这样省去了开销的开销，可以提高吞吐量;但如果是真的经常要发生冲突的，那每次还要去判断进行retry,反倒降低的性能，这个时候悲欢锁比较好。数据库如果提供类似于write_condition机制的其实都是提供的乐观锁。

它的实现大多是基于数据版本versin记录机制。举个例子:

1.利润表t_profit中有一个 version字段，当前值为1；而总资产余额字段（balance）为$10000

2.操作员A读出version=1,从总资产减除2000，10000-2000=8000.

3.A还没操作结束，此时操作员B也读出version=1,总资产减除5000，10000-5000=5000.

4.A操作完成，把version加1，修改为2，把总资产减2000后提交更新数据库，更新成功

5.B操作了，也加version加1，修改为2，把总资产减5000后提交更新数据库，此时发现version已经为2了，如B修改后加1的version一样，不满足乐观锁策略:&quot;提交的版本必有大于记录当前的版本才能执行&quot;。因此B的操作请求被驳回，这样就避免了B就version=1的旧数据修改的结果覆盖了A操作的结果的可能。如没有乐观锁，那A减去2000后剩余8000，但B操作的时候是用10000-5000剩余5000的，如果B的提交成功，总资产余额就是5000，但实际情况应该是8000-5000=3000的。出现总资产表记录和实际支出不一致。

Hibernate对乐观锁的实现:

&lt;hibernate-mapping&gt;

&lt;class name=&quot;com.f.TProfit&quot; table=&quot;t_profit&quot; optimistic-lock=&quot;version&quot;&gt;&lt;/class&gt;

&lt;/hibernate-mapping&gt;
</code></pre><p><a href="https://www.cnblogs.com/fanp/p/4633453.html" target="_blank" rel="noopener">摘自</a></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/02/25/java反射/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="anne">
      <meta itemprop="description" content="用心感受生活">
      <meta itemprop="image" content="/uploads/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Anne Blog">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/02/25/java反射/" class="post-title-link" itemprop="url">java反射</a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-02-25 12:48:24 / 修改时间：13:31:05" itemprop="dateCreated datePublished" datetime="2019-02-25T12:48:24+08:00">2019-02-25</time>
            

            
              

              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Java反射"><a href="#Java反射" class="headerlink" title="Java反射"></a>Java反射</h1><pre><code>JAVA反射机制是在运行状态中，对于任意一个类，都能够知道这个类的所有属性和方法；
对于任意一个对象，都能够调用它的任意一个方法和属性；这种动态获取的信息以及动态调用对象的方法的功能称为java语言的反射机制.
</code></pre><h1 id="反射的使用"><a href="#反射的使用" class="headerlink" title="反射的使用"></a>反射的使用</h1><h2 id="1-获取Class对象的三种方式"><a href="#1-获取Class对象的三种方式" class="headerlink" title="1.获取Class对象的三种方式"></a>1.获取Class对象的三种方式</h2><h3 id="1-1-Object-——〉getClass"><a href="#1-1-Object-——〉getClass" class="headerlink" title="1.1 Object  ——〉getClass( );"></a>1.1 Object  ——〉getClass( );</h3><pre><code>Student stu=new Student( );//这一new 产生一个Student对象，一个Class对象。
Class class1=stu.getClass( );//获取Class对象
</code></pre><h3 id="1-2-任何数据类型（包括数据基本类型）都有个”静态”的class属性；"><a href="#1-2-任何数据类型（包括数据基本类型）都有个”静态”的class属性；" class="headerlink" title="1.2  任何数据类型（包括数据基本类型）都有个”静态”的class属性；"></a>1.2  任何数据类型（包括数据基本类型）都有个”静态”的class属性；</h3><pre><code>Class  class2   =Student.class;
</code></pre><h3 id="1-3-通过Class类的静态方法：forName-String-className-；"><a href="#1-3-通过Class类的静态方法：forName-String-className-；" class="headerlink" title="1.3  通过Class类的静态方法：forName(String className)；"></a>1.3  通过Class类的静态方法：forName(String className)；</h3><pre><code>Class class3 = Class.forName(&quot;fanshe.Student&quot;);//注意此字符串必须是真实路径，就是带包名的类路径，包名.类名
</code></pre><h2 id="2-通过Class-对象获取类-对象的任意信息"><a href="#2-通过Class-对象获取类-对象的任意信息" class="headerlink" title="2.通过Class 对象获取类/对象的任意信息"></a>2.通过Class 对象获取类/对象的任意信息</h2><h3 id="2-1-通过反射获取构造方法并使用"><a href="#2-1-通过反射获取构造方法并使用" class="headerlink" title="2.1 通过反射获取构造方法并使用"></a>2.1 通过反射获取构造方法并使用</h3><pre><code>//1.加载Class对象
Class clazz = Class.forName(&quot;fanshe.Student&quot;);


//2.获取所有公有构造方法
System.out.println(&quot;**********************所有公有构造方法*********************************&quot;);
Constructor[] conArray = clazz.getConstructors();
for(Constructor c : conArray){
System.out.println(c);
}


System.out.println(&quot;************所有的构造方法(包括：私有、受保护、默认、公有)***************&quot;);
conArray = clazz.getDeclaredConstructors();
for(Constructor c : conArray){
System.out.println(c);
}

System.out.println(&quot;*****************获取公有、无参的构造方法*******************************&quot;);
Constructor con = clazz.getConstructor(null);
//1&gt;、因为是无参的构造方法所以类型是一个null,不写也可以：这里需要的是一个参数的类型，切记是类型
//2&gt;、返回的是描述这个无参构造函数的类对象。

System.out.println(&quot;con = &quot; + con);
//调用构造方法
Object obj = con.newInstance();
//    System.out.println(&quot;obj = &quot; + obj);
//    Student stu = (Student)obj;

System.out.println(&quot;******************获取私有构造方法，并调用*******************************&quot;);
con = clazz.getDeclaredConstructor(char.class);
System.out.println(con);
//调用构造方法
con.setAccessible(true);//暴力访问(忽略掉访问修饰符)
obj = con.newInstance(&apos;男&apos;);
</code></pre><h3 id="2-2获取成员方法并调用"><a href="#2-2获取成员方法并调用" class="headerlink" title="2.2获取成员方法并调用"></a>2.2获取成员方法并调用</h3><pre><code>//1.获取Class对象
Class stuClass = Class.forName(&quot;fanshe.method.Student&quot;);
//2.获取所有公有方法
System.out.println(&quot;***************获取所有的”公有“方法*******************&quot;);
stuClass.getMethods();
Method[] methodArray = stuClass.getMethods();
for(Method m : methodArray){
System.out.println(m);
}
System.out.println(&quot;***************获取所有的方法，包括私有的*******************&quot;);
methodArray = stuClass.getDeclaredMethods();
for(Method m : methodArray){
System.out.println(m);
}
System.out.println(&quot;***************获取公有的show1()方法*******************&quot;);
Method m = stuClass.getMethod(&quot;show1&quot;, String.class);
System.out.println(m);
//实例化一个Student对象
Object obj = stuClass.getConstructor().newInstance();
m.invoke(obj, &quot;刘德华&quot;);

System.out.println(&quot;***************获取私有的show4()方法******************&quot;);
m = stuClass.getDeclaredMethod(&quot;show4&quot;, int.class);
System.out.println(m);
m.setAccessible(true);//解除私有限定
Object result = m.invoke(obj, 20);//需要两个参数，一个是要调用的对象（获取有反射），一个是实参
System.out.println(&quot;返回值：&quot; + result);
</code></pre><p><a href="https://blog.csdn.net/sinat_38259539/article/details/71799078" target="_blank" rel="noopener">参考</a></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/02/18/java设计模式/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="anne">
      <meta itemprop="description" content="用心感受生活">
      <meta itemprop="image" content="/uploads/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Anne Blog">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/02/18/java设计模式/" class="post-title-link" itemprop="url">java设计模式</a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-02-18 11:37:34" itemprop="dateCreated datePublished" datetime="2019-02-18T11:37:34+08:00">2019-02-18</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-03-10 14:59:21" itemprop="dateModified" datetime="2019-03-10T14:59:21+08:00">2019-03-10</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/java设计模式/" itemprop="url" rel="index"><span itemprop="name">java设计模式</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="java设计模式"><a href="#java设计模式" class="headerlink" title="java设计模式"></a>java设计模式</h1><pre><code>设计模式（Design Pattern）是前辈们对代码开发经验的总结，是解决特定问题的一系列套路。它不是语法规定，而是一套用来提高代码可复用性、可维护性、可读性、稳健性以及安全性的解决方案。
1995 年，GoF（Gang of Four，四人组/四人帮）合作出版了《设计模式：可复用面向对象软件的基础》一书，共收录了 23 种设计模式，从此树立了软件设计模式领域的里程碑，人称「GoF设计模式」。
这 23 种设计模式的本质是面向对象设计原则的实际运用，是对类的封装性、继承性和多态性，以及类的关联关系和组合关系的充分理解。
</code></pre><p><a href="http://c.biancheng.net/design_pattern/" target="_blank" rel="noopener">Java设计模式详解参考</a><br><a href="https://www.cnblogs.com/zhaojinyan/p/9401010.html" target="_blank" rel="noopener">java设计模式</a></p>
<p>设计模式有两种分类方法，即根据模式的目的来分和根据模式的作用的范围来分</p>
<pre><code>1. 根据目的来分

根据模式是用来完成什么工作来划分，这种方式可分为创建型模式、结构型模式和行为型模式 3 种。
创建型模式：用于描述“怎样创建对象”，它的主要特点是“将对象的创建与使用分离”。GoF 中提供了单例、原型、工厂方法、抽象工厂、建造者等 5 种创建型模式。
结构型模式：用于描述如何将类或对象按某种布局组成更大的结构，GoF 中提供了代理、适配器、桥接、装饰、外观、享元、组合等 7 种结构型模式。
行为型模式：用于描述类或对象之间怎样相互协作共同完成单个对象都无法单独完成的任务，以及怎样分配职责。GoF 中提供了模板方法、策略、命令、职责链、状态、观察者、中介者、迭代器、访问者、备忘录、解释器等 11 种行为型模式。

2. 根据作用范围来分

根据模式是主要用于类上还是主要用于对象上来分，这种方式可分为类模式和对象模式两种。
类模式：用于处理类与子类之间的关系，这些关系通过继承来建立，是静态的，在编译时刻便确定下来了。GoF中的工厂方法、（类）适配器、模板方法、解释器属于该模式。
对象模式：用于处理对象之间的关系，这些关系可以通过组合或聚合来实现，在运行时刻是可以变化的，更具动态性。GoF 中除了以上 4 种，其他的都是对象模式。
</code></pre><h2 id="创建型模式"><a href="#创建型模式" class="headerlink" title="创建型模式"></a>创建型模式</h2><pre><code>1.单例（Singleton）模式：某个类只能生成一个实例，该类提供了一个全局访问点供外部获取该实例，其拓展是有限多例模式。
2.原型（Prototype）模式：将一个对象作为原型，通过对其进行复制而克隆出多个和原型类似的新实例。
3.工厂方法（Factory Method）模式：定义一个用于创建产品的接口，由子类决定生产什么产品。
4.抽象工厂（AbstractFactory）模式：提供一个创建产品族的接口，其每个子类可以生产一系列相关的产品。
5.建造者（Builder）模式：将一个复杂对象分解成多个相对简单的部分，然后根据不同需要分别创建它们，最后构建成该复杂对象。
</code></pre>
          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/02/01/redis/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="anne">
      <meta itemprop="description" content="用心感受生活">
      <meta itemprop="image" content="/uploads/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Anne Blog">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/02/01/redis/" class="post-title-link" itemprop="url">redis</a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-02-01 20:23:59" itemprop="dateCreated datePublished" datetime="2019-02-01T20:23:59+08:00">2019-02-01</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-02-02 12:59:24" itemprop="dateModified" datetime="2019-02-02T12:59:24+08:00">2019-02-02</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/缓存/" itemprop="url" rel="index"><span itemprop="name">缓存</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>项目常见问题思考<br>我们目前的系统已经实现了广告后台管理和广告前台展示，但是对于首页每天有大量的人访问，对数据库造成很大的访问压力，甚至是瘫痪。那如何解决呢？我们通常的做法有两种：一种是数据缓存、一种是网页静态化。</p>
<h1 id="Redis"><a href="#Redis" class="headerlink" title="Redis"></a>Redis</h1><pre><code>redis是一款开源的Key-Value数据库，运行在内存中，由ANSI C编写。企业开发通常采用Redis来实现缓存。它支持存储的value类型相对更多，包括string(字符串)、list(链表)、set(集合)、zset(sorted set --有序集合)和hash（哈希类型）,同类的产还有memcache 、memcached 、MongoDB等。
</code></pre><h1 id="Jedis"><a href="#Jedis" class="headerlink" title="Jedis"></a>Jedis</h1><pre><code>Jedis是Redis官方推出的一款面向Java的客户端，提供了很多接口供Java语言调用。可以在Redis官网下载，当然还有一些开源爱好者提供的客户端，如Jredis、SRP等等，推荐使用Jedis。
</code></pre><h1 id="Spring-Data-Redis"><a href="#Spring-Data-Redis" class="headerlink" title="Spring Data Redis"></a>Spring Data Redis</h1><pre><code>Spring-data-redis是spring大家族的一部分，提供了在srping应用中通过简单的配置访问redis服务，对reids底层开发包(Jedis,  JRedis, and RJC)进行了高度封装
RedisTemplate提供了redis各种操作、异常处理及序列化，支持发布订阅，并对spring 3.1 cache进行了实现。
spring-data-redis针对jedis提供了如下功能： 1.连接池自动管理，提供了一个高度封装的“RedisTemplate”类 2.针对jedis客户端中大量api进行了归类封装,将同一类型操作封装为operation接口 ValueOperations：简单K-V操作 SetOperations：set类型数据操作 ZSetOperations：zset类型数据操作 HashOperations：针对map类型的数据操作 ListOperations：针对list类型的数据操作
</code></pre>
          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/02/01/sping事务/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="anne">
      <meta itemprop="description" content="用心感受生活">
      <meta itemprop="image" content="/uploads/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Anne Blog">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/02/01/sping事务/" class="post-title-link" itemprop="url">sping事务</a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-02-01 18:57:24" itemprop="dateCreated datePublished" datetime="2019-02-01T18:57:24+08:00">2019-02-01</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-02-18 22:57:39" itemprop="dateModified" datetime="2019-02-18T22:57:39+08:00">2019-02-18</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/事物/" itemprop="url" rel="index"><span itemprop="name">事物</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="spring事务"><a href="#spring事务" class="headerlink" title="spring事务"></a>spring事务</h1><p>1.添加事务配置文件</p>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;
xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:p=&quot;http://www.springframework.org/schema/p&quot;
xmlns:context=&quot;http://www.springframework.org/schema/context&quot;
xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;
xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;
xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc.xsd
http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd
http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd&quot;&gt;


&lt;!-- 事务管理器  --&gt;  
&lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;&gt;  
&lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;  
&lt;/bean&gt;  

&lt;!-- 开启事务控制的注解支持 --&gt;  
&lt;tx:annotation-driven transaction-manager=&quot;transactionManager&quot;/&gt;

&lt;/beans&gt;
</code></pre><p>2.在方法或者类上加上 @Transaction 注解</p>
<p>使用sping事务有很多种方法，网上的资料五花八门暂时参考以下。<br>[参考1] (<a href="https://www.cnblogs.com/xym4869/p/8976949.html" target="_blank" rel="noopener">https://www.cnblogs.com/xym4869/p/8976949.html</a>)<br>[参考] (<a href="https://www.cnblogs.com/yixianyixian/p/8372832.html" target="_blank" rel="noopener">https://www.cnblogs.com/yixianyixian/p/8372832.html</a>)</p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/01/31/nginx/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="anne">
      <meta itemprop="description" content="用心感受生活">
      <meta itemprop="image" content="/uploads/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Anne Blog">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/01/31/nginx/" class="post-title-link" itemprop="url">nginx</a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-01-31 09:24:57 / 修改时间：11:29:44" itemprop="dateCreated datePublished" datetime="2019-01-31T09:24:57+08:00">2019-01-31</time>
            

            
              

              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/WEB服务器/" itemprop="url" rel="index"><span itemprop="name">WEB服务器</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="什么是Nginx"><a href="#什么是Nginx" class="headerlink" title="什么是Nginx"></a>什么是Nginx</h1><pre><code>Nginx 是一款高性能的 http 服务器/反向代理服务器及电子邮件（IMAP/POP3）代理服务器。由俄罗斯的程序设计师伊戈尔·西索夫（Igor Sysoev）所开发，官方测试 nginx 能够支支撑 5 万并发链接，并且 cpu、内存等资源消耗却非常低，运行非常稳定。
</code></pre><p>Nginx 应用场景：</p>
<pre><code>1、http 服务器。Nginx 是一个 http 服务可以独立提供 http 服务。可以做网页静态服务器。
2、虚拟主机。可以实现在一台服务器虚拟出多个网站。例如个人网站使用的虚拟主机。
3、反向代理，负载均衡。当网站的访问量达到一定程度后，单台服务器不能满足用户的请求时，需要用多台服务器集群可以使用 nginx 做反向代理。并且多台服务器可以平均分担负载，不会因为某台服务器负载高宕机而某台服务器闲置的情况。 
</code></pre><h2 id="Nginx在Linux下的安装"><a href="#Nginx在Linux下的安装" class="headerlink" title="Nginx在Linux下的安装"></a>Nginx在Linux下的安装</h2><p> 重新准备一台虚拟机作为服务器。比如IP地址为192.168.25.141  </p>
<h3 id="环境准备"><a href="#环境准备" class="headerlink" title="环境准备"></a>环境准备</h3><p> （1）需要安装 gcc 的环境</p>
<pre><code>yum install gcc-c++
</code></pre><p> （2）第三方的开发包。<br>    n PCRE<br>    PCRE(Perl Compatible Regular Expressions)是一个 Perl 库，包括 perl 兼容的正则表达式库。nginx 的 http 模块使用pcre 来解析正则表达式，所以需要在 linux 上安装 pcre 库。</p>
<pre><code>yum install -y pcre pcre-devel
</code></pre><p>   注：pcre-devel 是使用 pcre 开发的一个二次开发库。nginx 也需要此库。</p>
<p>   n  zlib<br>   zlib 库提供了很多种压缩和解压缩的方式，nginx 使用 zlib 对 http 包的内容进行 gzip，所以需要在 linux 上安装 zlib 库。</p>
<pre><code>yum install -y zlib zlib-devel
</code></pre><p>  n  OpenSSL<br>   OpenSSL 是一个强大的安全套接字层密码库，囊括主要的密码算法、常用的密钥和证书封装管理功能及 SSL 协议，并提供丰富的应用程序供测试或其它目的使用。nginx 不仅支持 http 协议，还支持 https（即在 ssl 协议上传输 http），所以需要在 linux安装 openssl 库。</p>
<pre><code>yum install -y openssl openssl-devel
</code></pre><h3 id="Nginx下载"><a href="#Nginx下载" class="headerlink" title="Nginx下载"></a>Nginx下载</h3><p> 官方网站下载 nginx：<a href="http://nginx.org/" target="_blank" rel="noopener">http://nginx.org/</a><br>  版本： 1.8.0 版本。</p>
<h3 id="Nginx安装"><a href="#Nginx安装" class="headerlink" title="Nginx安装"></a>Nginx安装</h3><p>  第一步：把 nginx 的源码包nginx-1.8.0.tar.gz上传到 linux 系统<br>  Alt+p  启动sftp  ,将nginx-1.8.0.tar.gz上传<br>  第二步：解压缩</p>
<pre><code>tar zxvf nginx-1.8.0.tar.gz
</code></pre><p> 第三步：进入nginx-1.8.0目录   使用 configure 命令创建一 makeFile 文件。</p>
<pre><code>./configure \
--prefix=/usr/local/nginx \
--pid-path=/var/run/nginx/nginx.pid \
--lock-path=/var/lock/nginx.lock \
--error-log-path=/var/log/nginx/error.log \
--http-log-path=/var/log/nginx/access.log \
--with-http_gzip_static_module \
--http-client-body-temp-path=/var/temp/nginx/client \
--http-proxy-temp-path=/var/temp/nginx/proxy \
--http-fastcgi-temp-path=/var/temp/nginx/fastcgi \
--http-uwsgi-temp-path=/var/temp/nginx/uwsgi \
--http-scgi-temp-path=/var/temp/nginx/scgi
</code></pre><p>  第四步：编译</p>
<pre><code>make
</code></pre><p>   第五步：安装</p>
<pre><code>make install
</code></pre><h2 id="Nginx启动与访问"><a href="#Nginx启动与访问" class="headerlink" title="Nginx启动与访问"></a>Nginx启动与访问</h2><p>注意：启动nginx 之前，上边将临时文件目录指定为/var/temp/nginx/client， 需要在/var  下创建此 目录</p>
<pre><code>mkdir /var/temp/nginx/client -p
</code></pre><p>进入到Nginx目录下的sbin目录</p>
<pre><code>cd /usr/local/ngiux/sbin
</code></pre><p>输入命令启动Nginx</p>
<pre><code>./nginx
</code></pre><p>启动后查看进程</p>
<pre><code>ps aux|grep nginx
</code></pre><p>地址栏输入虚拟机的IP即可访问（默认为80端口）</p>
<p>关闭 nginx</p>
<pre><code>./nginx -s stop
</code></pre><p>或者</p>
<pre><code>./nginx -s quit
</code></pre><p>   重启 nginx：<br>    1、先关闭后启动。<br>    2、刷新配置文件：</p>
<pre><code>./nginx -s reload
</code></pre><h2 id="Nginx静态网站部署"><a href="#Nginx静态网站部署" class="headerlink" title="Nginx静态网站部署"></a>Nginx静态网站部署</h2><h3 id="1-静态网站的部署"><a href="#1-静态网站的部署" class="headerlink" title="1.静态网站的部署"></a>1.静态网站的部署</h3><pre><code>将我们之前生成的静态页  上传到服务器的/usr/local/nginx/html下即可访问 
</code></pre><h3 id="2-配置虚拟主机"><a href="#2-配置虚拟主机" class="headerlink" title="2.配置虚拟主机"></a>2.配置虚拟主机</h3><pre><code>虚拟主机，也叫“网站空间”，就是把一台运行在互联网上的物理服务器划分成多个“虚拟”服务器。虚拟主机技术极大的促进了网络技术的应用和普及。同时虚拟主机的租用服务也成了网络时代的一种新型经济形式。
</code></pre><h3 id="3-端口绑定"><a href="#3-端口绑定" class="headerlink" title="3.端口绑定"></a>3.端口绑定</h3><p> （1）上传静态网站：<br>            将前端静态页cart.html 以及图片样式等资源 上传至  /usr/local/nginx/cart 下<br>            将前端静态页search.html 以及图片样式等资源 上传至  /usr/local/nginx/search 下<br> （2）修改Nginx 的配置文件：/usr/local/nginx/conf/nginx.conf</p>
<pre><code>server {
listen       81;
server_name  localhost;
location / {
root   cart;
index  cart.html;
}      
}
server {
listen       82;
server_name  localhost;
location / {
root   search;
index  search.html;
}        
}
</code></pre><p>（3）访问测试：</p>
<pre><code>地址栏输入http://192.168.25.141:81 可以看到购物车页面
地址栏输入http://192.168.25.141:82 可以看到搜索页面
</code></pre><h3 id="4-域名绑定（不详）"><a href="#4-域名绑定（不详）" class="headerlink" title="4.域名绑定（不详）"></a>4.域名绑定（不详）</h3><pre><code>一个域名对应一个 ip 地址，一个 ip 地址可以被多个域名绑定。
本地测试可以修改 hosts 文件（C:\Windows\System32\drivers\etc）
可以配置域名和 ip 的映射关系，如果 hosts 文件中配置了域名和 ip 的对应关系，不需要走dns 服务器。
我们可以通过一个叫SwitchHosts的软件来修改域名指向
</code></pre><p>做好域名指向后，修改nginx配置文件</p>
<pre><code>server {
listen       80;
server_name  cart.xx.com;
location / {
root   cart;
index  cart.html;
}
}
server {
listen       80;
server_name  search.xx.com;
location / {
root   search;
index  search.html;
}
}
</code></pre><p>执行以下命令，刷新配置</p>
<pre><code>./nginx -s reload
</code></pre><p>测试：<br>地址栏输入<a href="http://cart.xx.com/" target="_blank" rel="noopener">http://cart.xx.com/</a><br>地址栏输入<a href="http://search.xx.com/" target="_blank" rel="noopener">http://search.xx.com/</a></p>
<h2 id="Nginx反向代理与负载均衡"><a href="#Nginx反向代理与负载均衡" class="headerlink" title="Nginx反向代理与负载均衡"></a>Nginx反向代理与负载均衡</h2><h3 id="什么是反向代理"><a href="#什么是反向代理" class="headerlink" title="什么是反向代理"></a>什么是反向代理</h3><pre><code>反向代理（Reverse Proxy）方式是指以代理服务器来接受internet上的连接请求，然后将请求转发给内部网络上的服务器，并将从服务器上得到的结果返回给internet上请求连接的客户端，此时代理服务器对外就表现为一个反向代理服务器。
</code></pre><h3 id="配置反向代理-准备工作"><a href="#配置反向代理-准备工作" class="headerlink" title="配置反向代理-准备工作"></a>配置反向代理-准备工作</h3><pre><code>（1） 将网站首页页面部署到tomcat中（ROOT目录），上传到服务器。
（2）启动TOMCAT，输入网址http://192.168.25.141:8080可以看到网站首页
</code></pre><h3 id="配置反向代理"><a href="#配置反向代理" class="headerlink" title="配置反向代理"></a>配置反向代理</h3><p>（1）在Nginx主机修改 Nginx配置文件</p>
<pre><code>upstream tomcat-portal {
server 192.168.25.141:8080;
}
server {
listen       80;
server_name  www.xx.com;   
location / {
proxy_pass   http://tomcat-portal;
index  index.html;
}
}
</code></pre><p>   (2) 重新启动Nginx  然后用浏览器测试： <a href="http://www.xx.com" target="_blank" rel="noopener">www.xx.com</a> （此域名须配置域名指向）</p>
<h3 id="什么是负载均衡"><a href="#什么是负载均衡" class="headerlink" title="什么是负载均衡"></a>什么是负载均衡</h3><pre><code>负载均衡 建立在现有网络结构之上，它提供了一种廉价有效透明的方法扩展网络设备和服务器的带宽、增加吞吐量、加强网络数据处理能力、提高网络的灵活性和可用性。
负载均衡，英文名称为Load Balance，其意思就是分摊到多个操作单元上进行执行，例如Web服务器、FTP服务器、企业关键应用服务器和其它关键任务服务器等，从而共同完成工作任务。
</code></pre><h3 id="配置负载均衡-准备工作"><a href="#配置负载均衡-准备工作" class="headerlink" title="配置负载均衡-准备工作"></a>配置负载均衡-准备工作</h3><pre><code>将刚才放有首页工程的tomcat复制两份，端口分别为8180 和8280 。
分别启动这两个tomcat服务器的tomcat服务。
为了能够区分是访问哪个服务器的网站，可以在首页标题加上标记以便区分。
</code></pre><h3 id="配置负载均衡"><a href="#配置负载均衡" class="headerlink" title="配置负载均衡"></a>配置负载均衡</h3><p>修改 Nginx配置文件</p>
<pre><code>upstream tomcat-portal {
server 192.168.25.141:8080;
server 192.168.25.141:8180;
server 192.168.25.141:8280;
}
server {
listen       80;
server_name  www.pinyougou.com;

location / {
proxy_pass   http://tomcat-portal;
index  index.html;
}       

}
</code></pre><p>如果其中一台服务器性能比较好，想让其承担更多的压力，可以设置权重。</p>
<pre><code>server 192.168.25.141:8180 weight=2;
</code></pre>
          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/01/30/dubbox/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="anne">
      <meta itemprop="description" content="用心感受生活">
      <meta itemprop="image" content="/uploads/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Anne Blog">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/01/30/dubbox/" class="post-title-link" itemprop="url">dubbox</a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-01-30 15:10:58 / 修改时间：18:21:22" itemprop="dateCreated datePublished" datetime="2019-01-30T15:10:58+08:00">2019-01-30</time>
            

            
              

              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/分布式框架/" itemprop="url" rel="index"><span itemprop="name">分布式框架</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="dubbox的介绍"><a href="#dubbox的介绍" class="headerlink" title="dubbox的介绍"></a>dubbox的介绍</h1><pre><code>dubbo是阿里巴巴的框架被放弃后，被当当捡起并改名为dubbox。
dubbox为分布式框架，面向服务。
</code></pre><h2 id="dubbox运行原理"><a href="#dubbox运行原理" class="headerlink" title="dubbox运行原理"></a>dubbox运行原理</h2><pre><code>    注册中心(zookeeper)
     2/    3     \1
服务消费方  ——   服务提供方
       \        /
          监控
</code></pre><h3 id="注册中心zookeeper"><a href="#注册中心zookeeper" class="headerlink" title="注册中心zookeeper"></a>注册中心zookeeper</h3><pre><code>官方推荐使用 zookeeper 注册中心。注册中心负责服务地址的注册与查找，相当于目录服务，服务提供者和消费者只在启时与注册中心交互，注册中心不转发请求，压力较小。
</code></pre><p>1.Zookeeper 在Linux系统的安装</p>
<pre><code>安装步骤：
第一步：安装 jdk（此步省略，我给大家提供的镜像已经安装好JDK）
第二步：把 zookeeper 的压缩包（资源\配套软件\dubbox\zookeeper-3.4.6.tar.gz）上传到 linux 系统。
Alt+P 进入SFTP ，输入put d:\zookeeper-3.4.6.tar.gz 上传
第三步：解压缩压缩包
     tar -zxvf zookeeper-3.4.6.tar.gz
第四步：进入 zookeeper-3.4.6 目录，创建 data 文件夹。
      mkdir data
第五步：进入conf目录 ，把 zoo_sample.cfg 改名为 zoo.cfg
     cd conf
     mv zoo_sample.cfg zoo.cfg
第六步：打开zoo.cfg ,  修改 data 属性：dataDir=/root/zookeeper-3.4.6/data
</code></pre><p>2.zookeeper服务启动</p>
<pre><code>进入bin目录，启动服务输入命令：   ./zkServer.sh start
关闭服务输入命令：             ./zkServer.sh stop
查看状态：                   ./zkServer.sh status
</code></pre><h3 id="dubbox使用步骤"><a href="#dubbox使用步骤" class="headerlink" title="dubbox使用步骤"></a>dubbox使用步骤</h3><p>1.导入jar 包（注：dubbox的最新版本没有上传到中央仓库中，需要手动导入本地仓库）</p>
<pre><code>mvn install:install-file -Dfile=d:\setup\dubbo-2.8.4.jar -DgroupId=com.alibaba -DartifactId=dubbo -Dversion=2.8.4 -Dpackaging=jar
</code></pre><p> 2.配置离线约束</p>
<pre><code>地址：http://code.alibabatech.com/schema/dubbo/dubbo.xsd
</code></pre>
          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/01/28/springMVC/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="anne">
      <meta itemprop="description" content="用心感受生活">
      <meta itemprop="image" content="/uploads/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Anne Blog">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/01/28/springMVC/" class="post-title-link" itemprop="url">springMVC</a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-01-28 12:05:38 / 修改时间：13:39:07" itemprop="dateCreated datePublished" datetime="2019-01-28T12:05:38+08:00">2019-01-28</time>
            

            
              

              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/spring/" itemprop="url" rel="index"><span itemprop="name">spring</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="springMVC介绍"><a href="#springMVC介绍" class="headerlink" title="springMVC介绍"></a>springMVC介绍</h1><pre><code>基于MVC设计模式的web层的框架。
</code></pre><h2 id="什么是mvc模式？"><a href="#什么是mvc模式？" class="headerlink" title="什么是mvc模式？"></a>什么是mvc模式？</h2><pre><code>模型（model），视图（view），控制器（controller）
</code></pre><h2 id="Springmvc的执行流程"><a href="#Springmvc的执行流程" class="headerlink" title="Springmvc的执行流程"></a>Springmvc的执行流程</h2><pre><code>    / 浏览器发出请求 ——&gt; DispatcherServlet（接受请求，转发） ——&gt; handleMapping ——&gt; controller（modelAndView)
用户                                                                                 |       
    \ 浏览器接受响应&lt;——  DispatcherServlet                                   &lt;——    &lt;——|
                       |  |      |  |      
                     view渲染   视图解析器(视图结果)
</code></pre><h2 id="Springmvc的配置"><a href="#Springmvc的配置" class="headerlink" title="Springmvc的配置"></a>Springmvc的配置</h2><p>（1）在web.xml中</p>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;
xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;
version=&quot;2.5&quot;&gt;
&lt;display-name&gt;sringmvc-mybatis&lt;/display-name&gt;
&lt;welcome-file-list&gt;
&lt;welcome-file&gt;index.html&lt;/welcome-file&gt;
&lt;/welcome-file-list&gt;
&lt;filter&gt;
&lt;filter-name&gt;encoding&lt;/filter-name&gt;
&lt;filter-class&gt;org.springframework.web.filter.CharacterEncodingFilter&lt;/filter-class&gt;
&lt;init-param&gt;
&lt;param-name&gt;encoding&lt;/param-name&gt;
&lt;param-value&gt;UTF-8&lt;/param-value&gt;
&lt;/init-param&gt;
&lt;/filter&gt;
&lt;filter-mapping&gt;
&lt;filter-name&gt;encoding&lt;/filter-name&gt;
&lt;url-pattern&gt;/*&lt;/url-pattern&gt;
&lt;/filter-mapping&gt;

&lt;servlet&gt;
&lt;servlet-name&gt;mvc&lt;/servlet-name&gt;
  &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;
&lt;init-param&gt;
&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;
&lt;param-value&gt;classpath:spring/spring-servlet.xml&lt;/param-value&gt;
&lt;/init-param&gt;
&lt;/servlet&gt;
&lt;servlet-mapping&gt;
&lt;servlet-name&gt;mvc&lt;/servlet-name&gt;
&lt;url-pattern&gt;*.do&lt;/url-pattern&gt;
&lt;/servlet-mapping&gt;

&lt;context-param&gt;
&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;
&lt;param-value&gt;classpath*:spring/applicationContext*.xml&lt;/param-value&gt;
&lt;/context-param&gt;
&lt;listener&gt;
&lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;
&lt;/listener&gt;
&lt;/web-app&gt;
</code></pre><p> （2）创建spring/spring-servlet.xml</p>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;
xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; 
xmlns:context=&quot;http://www.springframework.org/schema/context&quot;
xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;
xsi:schemaLocation=&quot;
http://www.springframework.org/schema/beans 
http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
http://www.springframework.org/schema/context 
http://www.springframework.org/schema/context/spring-context-3.0.xsd
http://www.springframework.org/schema/mvc 
http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd&quot;&gt;
&lt;!-- 组件注解扫描 --&gt;
&lt;context:component-scan base-package=&quot;com&quot; /&gt;

&lt;!-- &lt;mvc:annotation-driven&gt;
&lt;mvc:message-converters register-defaults=&quot;true&quot;&gt;
&lt;bean class=&quot;com.alibaba.fastjson.support.spring.FastJsonHttpMessageConverter&quot;&gt;  
&lt;property name=&quot;supportedMediaTypes&quot; value=&quot;application/json&quot;/&gt;
&lt;property name=&quot;features&quot;&gt;
&lt;array&gt;
&lt;value&gt;WriteMapNullValue&lt;/value&gt;
&lt;value&gt;WriteDateUseDateFormat&lt;/value&gt;
&lt;/array&gt;
&lt;/property&gt;
&lt;/bean&gt;
&lt;/mvc:message-converters&gt;  
&lt;/mvc:annotation-driven&gt; --&gt;
&lt;!-- @resposeBody注解对Jason的支持，需要开启注解驱动 --&gt;
&lt;mvc:annotation-driven/&gt;
&lt;!-- &lt;mvc:message-converters&gt;
&lt;bean class=&quot;org.example.MyHttpMessageConverter&quot;/&gt;
&lt;bean class=&quot;org.example.MyOtherHttpMessageConverter&quot;/&gt;
&lt;/mvc:message-converters&gt; --&gt;
&lt;/beans&gt;
</code></pre>
          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <div class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/uploads/avatar.png" alt="anne">
            
              <p class="site-author-name" itemprop="name">anne</p>
              <p class="site-description motion-element" itemprop="description">用心感受生活</p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">15</span>
                    <span class="site-state-item-name">日志</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  <a href="/categories/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">8</span>
                    <span class="site-state-item-name">分类</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  <a href="/tags/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">14</span>
                    <span class="site-state-item-name">标签</span>
                  </a>
                </div>
              
            </nav>
          

          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="https://github.com/xixipro" title="GitHub &rarr; https://github.com/xixipro" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
                </span>
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="mailto:161366773@qq.com" title="E-Mail &rarr; mailto:161366773@qq.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                </span>
              
            </div>
          

          

          
          

          
            
          
          

        </div>
      </div>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">anne</span>

  

  
</div>









        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  <script src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>


  


  <script src="/js/src/utils.js?v=6.7.0"></script>

  <script src="/js/src/motion.js?v=6.7.0"></script>



  
  


  <script src="/js/src/affix.js?v=6.7.0"></script>

  <script src="/js/src/schemes/pisces.js?v=6.7.0"></script>



  

  


  <script src="/js/src/bootstrap.js?v=6.7.0"></script>



  



  





  

  

  
  <script>
    (function(){
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
    })();
  </script>


  

  

  

  

  

  

  

  

  

  

</body>
</html>
